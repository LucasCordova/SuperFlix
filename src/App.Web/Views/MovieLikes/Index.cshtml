@model IEnumerable<App.Core.Entities.MovieLike>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<section class="home">
    <!-- home bg -->
    <div class="owl-carousel home__bg">
        <div class="item home__cover" data-bg="img/home/home__bg.jpg"></div>
        <div class="item home__cover" data-bg="img/home/home__bg2.jpg"></div>
        <div class="item home__cover" data-bg="img/home/home__bg3.jpg"></div>
        <div class="item home__cover" data-bg="img/home/home__bg4.jpg"></div>
    </div>
    <!-- end home bg -->
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1 class="home__title"><b>MY LIKED</b> MOVIES</h1>

                <button class="home__nav home__nav--prev" aria-label="prev card" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17,11H9.41l3.3-3.29a1,1,0,1,0-1.42-1.42l-5,5a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l5,5a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L9.41,13H17a1,1,0,0,0,0-2Z" /></svg>
                </button>
                <button class="home__nav home__nav--next" aria-label="next card" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z" /></svg>
                </button>
            </div>
            <div class="tab-content" id="myTabContent">
                <div class="row" style="padding-left: 15px;">
                    @foreach (var movie in Model)
                    {
                        <div class="row row--grid">

                            <div class="col-6 col-sm-12 col-lg-6">
                                <div class="card card--list">
                                    @{
                                        var basePosterPath = $"https://www.themoviedb.org/t/p";
                                        var defaultPosterSize = "w500";
                                        var fullPosterPath = $"{basePosterPath}/{defaultPosterSize}{movie.PosterPath}";

                                        <a asp-controller="MovieLikes" asp-action="RemoveLike" asp-route-id="@movie.Id" class="card__cover">
                                            <img src="@fullPosterPath" alt="Movie Poster">
                                            <span class="card__play">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48"><path d="M242-840h444v512L408-40l-39-31q-6-5-9-14t-3-22v-10l45-211H103q-24 0-42-18t-18-42v-81.839Q43-477 41.5-484.5T43-499l126-290q8.878-21.25 29.595-36.125Q219.311-840 242-840Zm384 60H229L103-481v93h373l-53 249 203-214v-427Zm0 427v-427 427Zm60 25v-60h133v-392H686v-60h193v512H686Z" /></svg>
                                            </span>
                                        </a>
                                    }
                                    <div class="card__content">
                                        <h3 class="card__title"><a asp-controller="MovieLikes" asp-action="RemoveLike" asp-route-id="@movie.Id">@movie.Title</a></h3>
                                        <span class="card__category">

                                        </span>

                                        <div class="card__wrap">
                                            <span class="card__rate"> @movie.VoteAverage</span>

                                            <ul class="card__list">
                                                <li>@movie.OriginalLanguage</li>
                                                <li>@movie?.ReleaseDate?.Split("-")[0]</li>
                                            </ul>
                                        </div>

                                        <div class="card__description">
                                            <p>@movie?.Overview</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end card -->
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>
